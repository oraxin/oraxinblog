<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Putty基本用法</title>
  <meta property="og:title" content="Putty基本用法" />
  <meta name="twitter:title" content="Putty基本用法" />
  <meta name="description" content="近段时间由于工作需要使用Putty登入alcat的交换机做配置，在使用“F1，F2”功能键的时候出现了问题，才真正开始研究Putty的具体使用方法。以前都只是用来ssh登入VPS用用的，没想过要对它进行研究。
PuTTY 是一个跨平台的远程登录工具，包含了一组程序，包括：
 PuTTY (Telnet 和 SSH 客户端) PSCP (SCP 客户端, 命令行下通过 SSH 拷贝文件，类似于 Unix/Linux 下的 scp 命令) PSFTP (SFTP 的命令行客户端，类似于 FTP 的文件传输，只不过使用的是 SSH 的 22 端口，而非 FTP 的 21 端口，类似于 Unix/Linux 下的 sftp 命令) PuTTYtel (仅仅是一个 Telnet 客户端) Plink (命令行工具，执行远程服务器上的命令) Pageant (PuTTY、PSCP、Plink 的 SSH 认证代理，用这个可以不用每次都输入口令了) PuTTYgen (用来生成 RSA 和 DSA 密钥的工具).  虽然包含了这么多，但平时经常见到只是用 PuTTY 登录服务器，完全没有发挥出 PuTTY 的强大功能。
PuTTY 的官方网站：http://www.chiark.greenend.org.uk/~sgtatham/putty/ ,注意：部分中文版的 PuTTY 可能存在后门，会泄露你的用户名和口令，强烈建议大家从 PuTTY 的官方网站下载。官方版本只有英文版，没有多国语言版。涉及到的软件可能还包括 WinSCP、SSH Secure Shell 等中文修改版。">
  <meta property="og:description" content="近段时间由于工作需要使用Putty登入alcat的交换机做配置，在使用“F1，F2”功能键的时候出现了问题，才真正开始研究Putty的具体使用方法。以前都只是用来ssh登入VPS用用的，没想过要对它进行研究。
PuTTY 是一个跨平台的远程登录工具，包含了一组程序，包括：
 PuTTY (Telnet 和 SSH 客户端) PSCP (SCP 客户端, 命令行下通过 SSH 拷贝文件，类似于 Unix/Linux 下的 scp 命令) PSFTP (SFTP 的命令行客户端，类似于 FTP 的文件传输，只不过使用的是 SSH 的 22 端口，而非 FTP 的 21 端口，类似于 Unix/Linux 下的 sftp 命令) PuTTYtel (仅仅是一个 Telnet 客户端) Plink (命令行工具，执行远程服务器上的命令) Pageant (PuTTY、PSCP、Plink 的 SSH 认证代理，用这个可以不用每次都输入口令了) PuTTYgen (用来生成 RSA 和 DSA 密钥的工具).  虽然包含了这么多，但平时经常见到只是用 PuTTY 登录服务器，完全没有发挥出 PuTTY 的强大功能。
PuTTY 的官方网站：http://www.chiark.greenend.org.uk/~sgtatham/putty/ ,注意：部分中文版的 PuTTY 可能存在后门，会泄露你的用户名和口令，强烈建议大家从 PuTTY 的官方网站下载。官方版本只有英文版，没有多国语言版。涉及到的软件可能还包括 WinSCP、SSH Secure Shell 等中文修改版。">
  <meta name="twitter:description" content="近段时间由于工作需要使用Putty登入alcat的交换机做配置，在使用“F1，F2”功能键的时候出现了问题，才真正开始研究Putty的具体使用方法。以前都只是用来ssh登入VPS用用的，没想过要对它进行研究。
PuTTY 是一个跨平台的远程登录工具，包含了一组程序，包括：
 PuTTY (Telnet 和 SSH 客户端) PSCP (SCP 客户端, 命令行下通过 SSH 拷贝文件， …">
  <meta name="author" content="OraXin"/>
  <link href='/oraxinblog/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta property="og:image" content="/oraxinblog/img/avatar-icon.png" />
  <meta name="twitter:image" content="/oraxinblog/img/avatar-icon.png" />
  <meta name="twitter:card" content="summary" />
  <meta property="og:url" content="/oraxinblog/post/putty%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="OraXin‘s blog" />

  <meta name="generator" content="Hugo 0.20.7" />
  <link rel="canonical" href="/oraxinblog/post/putty%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95/" />
  <link rel="alternate" href="/oraxinblog/index.xml" type="application/rss+xml" title="OraXin‘s blog">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css" integrity="sha384-wITovz90syo1dJWVh32uuETPVEtGigN07tkttEqPv+uR2SE/mbQcG7ATL28aI9H0" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="/oraxinblog/css/main.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="/oraxinblog/css/pygment_highlights.css" />
  <link rel="stylesheet" href="/oraxinblog/css/highlight.min.css" />

</head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/oraxinblog/">OraXin‘s blog</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Blog" href="/oraxinblog/">Blog</a>
            </li>
          
        
          
            <li>
              <a title="About" href="/oraxinblog/about/">About</a>
            </li>
          
        
          
            <li>
              <a title="Tags" href="/oraxinblog/tags">Tags</a>
            </li>
          
        

        

        
      </ul>
    </div>

    <div class="avatar-container">
      <div class="avatar-img-border">
        
          <a title="OraXin‘s blog" href="/oraxinblog/">
            <img class="avatar-img" src="/oraxinblog/img/avatar-icon.png" alt="OraXin‘s blog" />
          </a>
        
      </div>
    </div>

  </div>
</nav>




    
  
  
  




  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              <h1>Putty基本用法</h1>
                
                
                  <span class="post-meta">
  Posted on May 20, 2017
  
</span>


                
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>近段时间由于工作需要使用Putty登入alcat的交换机做配置，在使用“F1，F2”功能键的时候出现了问题，才真正开始研究Putty的具体使用方法。以前都只是用来ssh登入VPS用用的，没想过要对它进行研究。</p>

<p>PuTTY 是一个跨平台的远程登录工具，包含了一组程序，包括：</p>

<ul>
<li>PuTTY (Telnet 和 SSH 客户端)</li>
<li>PSCP (SCP 客户端, 命令行下通过 SSH 拷贝文件，类似于 Unix/Linux 下的 scp 命令)</li>
<li>PSFTP (SFTP 的命令行客户端，类似于 FTP 的文件传输，只不过使用的是 SSH 的 22 端口，而非 FTP 的 21 端口，类似于 Unix/Linux 下的 sftp 命令)</li>
<li>PuTTYtel (仅仅是一个 Telnet 客户端)</li>
<li>Plink (命令行工具，执行远程服务器上的命令)</li>
<li>Pageant (PuTTY、PSCP、Plink 的 SSH 认证代理，用这个可以不用每次都输入口令了)</li>
<li>PuTTYgen (用来生成 RSA 和 DSA 密钥的工具).</li>
</ul>

<p>虽然包含了这么多，但平时经常见到只是用 PuTTY 登录服务器，完全没有发挥出 PuTTY 的强大功能。</p>

<p>PuTTY 的官方网站：<a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/">http://www.chiark.greenend.org.uk/~sgtatham/putty/</a> ,<strong>注意：部分中文版的 PuTTY 可能存在后门，会泄露你的用户名和口令，强烈建议大家从 PuTTY 的官方网站下载。官方版本只有英文版，没有多国语言版。涉及到的软件可能还包括 WinSCP、SSH Secure Shell 等中文修改版。</strong></p>

<p><strong>登录一台远程主机</strong></p>

<p>运行 PuTTY 就可以看到下面这个界面
<img src="/image/Putty基本用法/45477ea9d596ae2e672a2cc09207a.png" alt="" /></p>

<p>在这里输入服务器的 IP 或主机名，选择好登录协议，还有协议的端口，如果希望把这次的输入保存起来，以后就不需要再重新输入了，就在第4步输入好会话保存的名称，比如：mail-server，或者干脆就是主机的地址，点击保存就可以了。
<img src="/image/Putty基本用法/7a9776ca0bcbd847751a6deb48252.png" alt="" /></p>

<p>最后点下面的 Open 按钮，输入正确的用户名和口令，就可以登录服务器了。</p>

<p><strong>首次登录一台主机时</strong></p>

<p>第一次登录时，会看到这个对话框
<img src="/image/Putty基本用法/abedb9c6bffecfbc5bb7dd26afc5f.png" alt="" /></p>

<p>这是要告诉你登录的主机密钥指纹，点 Yes 就保存起来，以后就不会再弹出这个窗口，然后就正常登录。点 No 不保存，下次还是要提示你，然后也可以正常登录。</p>

<p><strong>中文乱码</strong></p>

<p>成功登录主机后，输入命令，这……这……显示，又是乱码。唉，中文乱码是一个老生常谈的问题，提起来就头大。原因嘛，不外乎字符集、终端编码之类的，还是可以解决的。</p>

<p>PuTTY 的默认字体和字符集并不适合中文显示， 在窗口标题上点击右键，选择 Change Settings&hellip;
<img src="/image/Putty基本用法/ce8c9c1ddab374022c43b2286b898.png" alt="" /></p>

<p>在打开的配置窗口左边选择 Appearance，在右边点 Font settings 里面的 Change 按钮，选择好中文字体，比如：宋体、新宋体之类的
<img src="/image/Putty基本用法/25814dc4a49611ed634b67f4265f2.png" alt="" /></p>

<p>字体选择好了，还要确定字符集。
选择配置窗口左边的 Translation，在右边的 Received data assumed to be in which character set 下拉列表中选择最后一个“Use font encoding”，最后点下面的 Apply 按钮就生效了。
<img src="/image/Putty基本用法/dafd92a203cda6dc0ae922c78f704.png" alt="" /></p>

<p><strong>如果还看到乱码？</strong></p>

<p>如果还是乱码的话，就执行以下命令，看看系统的字符集
echo $LANG $LANGUAGE
<img src="/image/Putty基本用法/c85c0babc20af2bfb6316621177f8.png" alt="" /></p>

<p>重新返回上面选择字符集的那一步， 选择配置窗口左边的 Translation，在右边的 Received data assumed to be in which character set 下拉列表中选择“UTF-8”
<img src="/image/Putty基本用法/69acbb32066f78a993ff8ed97aa3e.png" alt="" /></p>

<p>这下99%的情形下，汉字是不会有乱码了。最后，总之一下 PuTTY 中乱码的解决办法：</p>

<p>先看看系统的字符集，如果是 UTF-8 的，那就简单了，选择好中文字体，然后编码选择 UTF-8 就行了。
如果编码是 GB2312、GBK、GB18030，当然也包括 BIG5这些，在 PuTTY 的编码选择中看不到这些编码，那就选择最后一个“Use font encoding”，绝大部分情况下这样就没啥问题了，</p>

<p><strong>复制和粘贴？</strong></p>

<p>在 PuTTY 的窗口里面复制、粘贴可不能用 Windows 里的这些 Ctrl+C, Ctrl+Ins, Ctrl+V 这些快捷键，Ctrl+C 在控制台上可是终止当前的命令执行。</p>

<p>PuTTY 的选择、复制、粘贴这些操作都是通过鼠标来完成的。</p>

<p>在 Window-〉Selection 这里可以设置复制和粘贴的方式。
<img src="/image/Putty基本用法/7ee945607cae1a9cd745f73646244.png" alt="" /></p>

<p>默认的 Action of mouse buttons （鼠标按键的功能）的选项是 Compromise，这种方式下选中有两种方式，一是直接用鼠标左键拖拉选中就可以了，二是用鼠标中键单击选中区域的开头，用滚动条拖拉到期望选中区域的末尾，再用鼠标中键单击，就可以选中了。</p>

<p>选中以后，单击鼠标左键就把选中部分复制到剪贴板了。粘贴也很简单，单击鼠标右键。</p>

<p>Action of mouse buttons 的第一个选项是 Windows （Windows 方式的），鼠标中键的操作跟前面提到的一样。右键不是粘贴了，而是打开了右键菜单。
<img src="/image/Putty基本用法/5614a419355464b664c1b64aa48a5.png" alt="" /></p>

<p>第三个选项是 xterm （xterm 方式），这个跟默认的 Compromise 方式相反的，中键和右键的操作调换了一下。</p>

<p>下面那个 Shift overrides application&rsquo;s use of mouse 是和 Shift 键有关的。有些 Rogue Like 的程序，比如 mc、links、Lynx、VIM 等等，都支持鼠标操作，想在用鼠标在上面选择或粘贴就不行了。这个选项默认是选中的，在支持鼠标操作的 Rogue Like 界面下，按住 Shift 键，就可以像前面的那样用鼠标来选择、复制、粘贴了。</p>

<p>看下面的这个图片，用 Links 打开了 Google 的首页，用鼠标去选中 顶部中间的 Google，我们会发现，弹出了保存的对话框。
<img src="/image/Putty基本用法/919f1b33110b379929fe44de8f8aa.png" alt="" /></p>

<p>按住 Shift 键重新操作一次，这次选中了。
<img src="/image/Putty基本用法/797fe646c73750a5fccef17434c5e.png" alt="" /></p>

<p>在 Control use of mouse 里面还有个 Default selection mode （默认的选择模式），默认是 Normal，就像文字处理工具里这样的选择
<img src="/image/Putty基本用法/76d670233c1eb95b351416707788e.png" alt="" /></p>

<p>另外一个是 Rectangular block（块选择方式）。
<img src="/image/Putty基本用法/91a20f09201da357597d2bdaebaa6.png" alt="" /></p>

<p><strong>实时保存会话</strong></p>

<p>这次更改配置参数了，关闭窗口后，下次使用还是要重新选择的，麻烦。</p>

<p>还是回到上面修改配置的哪个地方，选择左边的 Session，在右边选择要覆盖的会话名称，或者重新输入一个新的名称，点击 Save 按钮保存。</p>

<p><strong>关于注销登录的一些事情</strong></p>

<p>最后要关闭窗口了，该怎么办呢？应该输入命令 exit 来正常注销；你可以用快捷键 Ctrl+d 来注销登录，一般情况下，快捷键一按窗口都直接关闭了，还省了两次鼠标点击。</p>

<p><strong>窗口保存的输出有点少，前面的都看不到了</strong></p>

<p>执行了一个命令，输出了好多东西，但是默认的配置下，PuTTY只保存了最后200行的内容，满足不了我们的需求。</p>

<p>还是在标题栏上点右键选择 Change settings&hellip;，在配置窗口的左边选择 Window，修改右边的 Lines of scrollback，改大点，比如 20000、80000的</p>

<p>在上面的 Set the size of the window 里设置的是窗口显示的行数和列数，默认是 24 行、80 列，根据自己的需要来修改吧。</p>

<p>顺便说一下，在 PuTTY 中的前后翻页，与 Linux 终端一样，用 Shift+PageUp/PageDown 来上下翻页，而 Ctrl+PageUp/PageDown 则是一行一行的。</p>

<p><strong>无需口令登录</strong></p>

<p>在 Connection-〉SSH-〉Auth 这里面有两个需要了解的，以后在讲到 PuTTYGEN 和 Pagent 时会详细介绍的。</p>

<p>一个是 Allow agent forwarding，作用是允许私钥代理的转发。</p>

<p>另外一个是最下面的 Private key file for authentication，选择私钥认证文件。</p>

<p>这两个可以让你用 SSH 登录不用输入主机口令，但是私钥的口令还是需要输入的，如果使用了私钥代理 Pagent ，私钥口令也可以省略。再配合前面提到的自动指定用户名登录，可以实现自动登录主机。登录到主机上以后，用 SSH 登录另外一个同样配置了相同的 私钥认证的主机，也可以不用再次输入口令。</p>

<p>这些可以大大减轻了我们的重复工作，不用单调枯燥的输入用户名和口令，但是这样使用有个后遗症就是如果主机密码没有在另外一个地方记录下来的话，这个密码很快会忘记的，好处嘛，密码可以设置的很长。</p>

<p><strong>先更新到这里吧，下次有需要继续更新</strong></p>

      </article>

      <ul class="pager blog-pager">
        
          <li class="previous">
            <a href="/oraxinblog/post/%E5%9C%A8ubuntu%E4%B8%8B%E5%AE%89%E8%A3%85resilio-sync/" data-toggle="tooltip" data-placement="top" title="在ubuntu下安装Resilio Sync">&larr; Previous Post</a>
          </li>
        
        
          <li class="next">
            <a href="/oraxinblog/post/%E7%95%85%E6%83%B3%E4%B8%8A%E6%B5%B7%E8%BF%AA%E5%A3%AB%E5%B0%BC/" data-toggle="tooltip" data-placement="top" title="畅想上海迪士尼">Next Post &rarr;</a>
          </li>
        
      </ul>

      

    </div>
  </div>
</div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:jiwai@oraxin.com" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            <a href="/oraxinblog/index.xml" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          OraXin
          &nbsp;&bull;&nbsp;
          2017

          
            &nbsp;&bull;&nbsp;
            <a href="/oraxinblog/">OraXin‘s blog</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="http://gohugo.io">Hugo v0.20.7</a> powered &nbsp;&bull;&nbsp; Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a>
          
        </p>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js" integrity="sha384-/y1Nn9+QQAipbNQWU65krzJralCnuOasHncUFXGkdwntGeSvQicrYkiUBwsgUqc1" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/contrib/auto-render.min.js" integrity="sha384-dq1/gEHSxPZQ7DdrM82ID4YVol9BYyU7GbWlIwnwyPzotpoc57wDw/guX8EaYGPx" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="/oraxinblog/js/main.js"></script>
<script src="/oraxinblog/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> renderMathInElement(document.body); </script>





  </body>
</html>

